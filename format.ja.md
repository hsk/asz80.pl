https://github.com/ixaxaar/sdcc/blob/master/sdas/doc/format.txt の翻訳

## 2.5.1 Object Module Format

オブジェクトモジュールの最初の行は、次のデジグネータ [XDQ][HL] フォーマット指定子
（すなわち、XHは最上位バイトを最初に持つ16進数ファイルを示す）を含んでいます。
## 2.5.2 H ヘッダー行

    H aa エリア gg グローバルシンボル

ヘッダー行は、このオブジェクトモジュールセグメントで定義または参照されるエリア(aa)とグローバルシンボル(gg)の数を指定する。
## 2.5.3 M モジュール行

    M モジュール名

モジュール行は、このヘッダーセグメントが組み立てられたモジュール名を指定する。
モジュール行は、ソースプログラムで .module 命令が使用されていない場合、表示されません。
## 2.5.4 S シンボル行

    S 文字列 Defnnnn

または

    S 文字列 Refnnnn

シンボル行は、値nnnnを持つシンボル'string'を定義（Def）または参照（Ref）する。
定義された値は、現在の領域のベースアドレスからの相対値である。
定数や外部グローバルシンボルへの参照は、常に最初の領域定義の前に表示されます。
外部シンボルへの参照は、値がゼロになる。
## 2.5.5 A エリア行

    A ラベル サイズ ss フラグ ff

エリア行では、エリアラベル、エリアのサイズ（ss）バイト単位、エリアフラグ（ff）を定義する。
エリアフラグは、ABS、REL、CON、OVR、PAG のパラメータを指定する：

    OVR/CON (0x04/0x00 つまりビット位置2)
    ABS/REL (0x08/0x00 つまりビット位置3)
    PAG (0x10、すなわちビット位置4)
## 2.5.6 T行

    T xx xx nn nn nn nn nn ...

T行には、アセンブラが出力するアセンブルコードが格納されます。
xx xxは現在のエリアベースアドレスからのオフセットアドレス、
nnはアセンブルされた命令とデータをバイトフォーマットで示します。
## 2.5.7 R行

    R 0 0 nn nn n1 [n1x]  n2 xx xx ...

R行は、リンカに再配置情報を提供する。
nn nn値は、現在のエリアインデックス、すなわち、現在の値がどのエリアで組み立てられたかである。
再配置情報は、4バイト（場合によっては5バイト）のグループで符号化される：

1) n1 (およびオプションで n1x) は再配置モードとオブジェクトフォーマットである：

    1.  bit 0 ワード(0x00)/バイト(0x01)
    2.  bit 1 リロケータブルエリア(0x00)/シンボル(0x02)
    3.  bit 2 通常(0x00)/PC 相対(0x04)再配置
    4.  bit 3 1 バイト(0x00)/2 バイト(0x08) バイトデータ用オブジェクト形式
    5.  bit 4 符号付き(0x00)/符号なし(0x10) バイトデータ
    6.  bit 5 通常(0x00)/ページ'0'(0x20)リファレンス
    7.  bit 6 ノーマル(0x00)/ページ'nnn'(0x40)参照
    8.  bit 7 2 バイトモードの場合、LSB バイト(0x00)/MSB バイト(0x80)
    9.  bit 8 1または2(0x00)/3バイト(0x100) バイトデータのオブジェクト形式。
    10. bit 9 LSB または MSB（中間バイト）(0x00) または 3 バイト（実 MSB）(0x200)3 バイトモードの場合。

    n1の上位4ビットがセットされている場合（(n1 & 0xf0) == 0xf0）、エスケープ文字とみなされ、再配置モードはn1の下位4ビットを8ビット左シフトしたものと、n1xの値との組み合わせになる。
    n1の上位4ビットが全てセットされていない場合は、エスケープ文字ではなく、n1xバイトは存在しない。

    このエスケープ機構により、12ビットのリロケーションモードの値が可能になる。

    なお、バイトモードにおいて、3バイトモード（ビット0と8がともにセットされている）を使用する場合、MSBビット（ビット7）は実際には16ビットのMSB（24ビット値の中間バイト）を指し、「バイト3」ビット（ビット9）は24ビットMSBを指します。

2) n2は、対応する(すなわち先行する)T行データへのバイトインデックス(すなわち再配置によって更新されるデータへのポインタ)である。
T線データは、1バイトまたは2バイトのバイトデータ形式または2バイトのワード形式である。

3) xx xxは、参照するエリア/シンボルのエリア/シンボルインデックスである。
対応するエリア／シンボルは，ヘッダーのエリア／シンボルリストに記載されています。


この4バイトのグループは、前のT行の再配置を必要とする項目ごとに繰り返される。
## 2.5.8 P行

    P 0 0 nn nn n1 n2 xx xx

P行は、.setdp命令で指定されたページング情報をリンカに提供する。
再配置情報の形式は、R行と同じである。
対応するT行は、以下の情報を持つ：

    T xx xx aa aa bb bb

ここで、aa aaは選択されたページ領域を指定する領域参照番号であり、bb bbはページのベースアドレスである。
bb bbは、P行に「n1 n2 xx xx」が指定されている場合、再配置処理が必要となる。
リンカは、ベースアドレスが256バイトの境界上にあること、PAG型で定義された領域のページ長が256バイトより大きくないことを確認する。

リンカーは、直接ページを参照する場合、入力RELファイルで定義された最初のエリアをデフォルトとします。
すべてのASxxxxアセンブラは、_CODEエリアを最初に指定し、これをデフォルトのページエリアとします。
